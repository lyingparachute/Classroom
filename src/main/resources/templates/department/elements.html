<html lang="en" xmlns:th="https://www.thymeleaf.org">
<!-- ======= Form for Department ======= -->
<div th:fragment="item-form">
    <div class="mb-4">
        <h4 th:text="#{department.name}"></h4>
        <div class="form-outline">
            <input class="form-control"
                   th:field="*{name}"
                   type="text"/>
        </div>
        <div class="alert alert-danger" th:errors="*{name}"
             th:if="${#fields.hasErrors('name')}"></div>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{department.address}"></h4>
        <div class="form-outline">
            <input class="form-control"
                   th:field="*{address}"
                   type="text"/>
        </div>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{department.telNumber}"></h4>
        <div class="form-outline">
            <input class="form-control"
                   th:field="*{telNumber}"
                   type="number"/>
        </div>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{department.dean}"></h4>
        <select class="form-select" id="dean" th:field="*{dean}">
            <option th:each="fieldOpt : ${teachers}"
                    th:text="${fieldOpt.firstName} + ' ' + ${fieldOpt.lastName}"
                    th:value="${fieldOpt.id}">
            </option>
        </select>
    </div>
    <hr>
    <!--    TODO - add fields of studies  -->

</div>


<!-- ======= View FieldOfStudy card body ======= -->
<div th:fragment="view-item">
    <div class="mb-4">
        <h4 th:text="#{department.name}"></h4>
        <span th:text="${department.name}"></span>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{department.address}"></h4>
        <span th:text="${department.address}"></span>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{department.telNumber}"></h4>
        <span th:text="${department.telNumber}"></span>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{department.dean}"></h4>
        <a class="text-body" th:if="${department.dean != null}"
           th:href="@{/dashboard/teachers/{id}(id=${department.dean.id})}">
            <span th:text="${department.dean}"></span>
            <i class="fas fa-regular fa-up-right-from-square ml-1"></i>
        </a>
        <div th:unless="${department.dean != null}">
            <span th:text="#{department.dean.null}"></span>
            <div th:replace="department/buttons :: btn-edit"></div>
        </div>
    </div>

    <hr>

    <!--  Fields of studies block -->
    <div class="mb-3">
        <span class="h4 mr-2" th:text="#{department.fieldsOfStudy}"></span>
        <a aria-controls="collapseExample"
           aria-expanded="false" class="btn btn-secondary btn-rounded" th:if="${department.fieldsOfStudy.size() > 0}"
           data-mdb-toggle="collapse" href="#collapseExample" role="button"
           th:text="#{button.show.hide}">
        </a>
        <div class="mb-3" th:unless="${department.fieldsOfStudy.size() > 0}">
            <span th:text="#{department.fieldsOfStudy.empty}"></span>
            <div th:replace="department/buttons :: btn-edit"></div>
        </div>
    </div>
    <div class="collapse mt-3" id="collapseExample">
        <div class="row row-cols-1 row-cols-md-3 g-4">
            <th:block th:each="fieldOpt, iterStat2 : ${department.fieldsOfStudy}">
                <div class="col">
                    <!-- ======= FieldOfStudy Details ======= -->
                    <div th:replace="field-of-study/elements :: field-of-study-item-card"></div>
                </div>
            </th:block>
        </div>
    </div>

</div>
