<!-- ======= Form for Student ======= -->
<div th:fragment="student-form">
    <input hidden id="id_input_id" th:field="*{id}" type="text">
    <div class="row mb-4">
        <label class="col-form-label col-sm-4"
               for="first_name">
            <span th:text="#{student.firstName}"></span>
        </label>
        <div class="col-sm">
            <input class="form-control"
                   id="first_name"
                   th:field="*{firstName}"
                   type="text"
            />
        </div>
        <div class="alert alert-danger" th:errors="*{firstName}"
             th:if="${#fields.hasErrors('firstName')}"></div>
    </div>

    <div class="row mb-4">
        <label class="col-form-label col-sm-4"
               for="last_name">
            <span th:text="#{student.lastName}"></span>
        </label>
        <div class="col-sm">
            <input class="form-control"
                   id="last_name"
                   th:field="*{lastName}"
                   type="text"
            />
        </div>
        <div class="alert alert-danger" th:errors="*{lastName}"
             th:if="${#fields.hasErrors('lastName')}"></div>
    </div>
    <div class="row mb-4">
        <label class="col-form-label col-sm-4"
               for="email">
            <span th:text="#{student.email}"></span>
        </label>
        <div class="col-sm">
            <input class="form-control"
                   id="email"
                   th:field="*{email}"
                   type="text"
            />
        </div>
        <div class="alert alert-danger" th:errors="*{email}"
             th:if="${#fields.hasErrors('email')}"></div>
    </div>
    <div class="row mb-4">
        <label class="col-sm-4 col-form-label"
               for="age">
            <span th:text="#{student.age}"></span>
        </label>
        <div class="col-sm">
            <input class="form-control"
                   id="age" th:field="*{age}"
                   type="number"/>
        </div>
        <div class="alert alert-danger" th:errors="*{age}"
             th:if="${#fields.hasErrors('age')}">
        </div>
    </div>
    <div class="row mb-4">
        <label class="col-form-label col-sm-4"
               for="field_of_study">
            <span th:text="#{student.fieldOfStudy}"></span>
        </label>
        <div class="col-sm">
            <select class="form-select" id="field_of_study" th:field="*{fieldOfStudy}">
                <option th:each="fieldOpt : ${fieldsOfStudy}"
                        th:text="${fieldOpt.name}
                + ', Study mode: ' + ${fieldOpt.mode.value}
                + ', Level of education: ' + ${fieldOpt.levelOfEducation.value}
                + ', Obtained title: ' + ${fieldOpt.title.fullTitle}"
                        th:value="${fieldOpt.id}">
                </option>
            </select>
        </div>
    </div>
    <div class="row mb-4">
        <label class="col-form-label col-sm-4"
               for="teachers_list">
            <span th:text="#{student.teachersList}"></span>
        </label>
        <div class="col-sm text-left">
            <th:block th:each="fieldOpt : ${teachers}">
                <div>
                    <input class="form-check-input m-2" id="teachers_list" th:field="*{teachers}" th:text="${fieldOpt}"
                           th:value="${fieldOpt.id}"
                           type="checkbox" value="">
                </div>
            </th:block>
        </div>
    </div>
</div>

<!-- ======= View Student card body ======= -->
<div th:fragment="view-student">
    <div class="mb-4">
        <h4 th:text="#{student.firstName}"></h4>
        <span th:text="${student.firstName}"></span>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{student.lastName}"></h4>
        <span th:text="${student.lastName}"></span>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{student.email}"></h4>
        <span th:text="${student.email}"></span>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{student.age}"></h4>
        <span th:text="${student.age}"></span>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{student.fieldOfStudy}"></h4>
        <a class="text-body"
           th:href="@{/dashboard/fields-of-study/{id}(id=${student.fieldOfStudy.id})}">
            <span th:text="${student.fieldOfStudy.name}"></span>
            <i class="fas fa-regular fa-up-right-from-square"></i>
        </a>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{student.teachersList}"></h4>
        <span th:if="${student.teachers.size() == 0}" th:text="#{student.no.teachers}"></span>
        <th:block th:unless="${student.teachers.size() == 0}" th:each="fieldOpt, count : ${student.teachers}">
            <div class="mb-2">
                <span th:text="${count.index + 1} + '. '"></span>
                <a class="text-body"
                   th:href="@{/dashboard/teachers/{id}(id=${fieldOpt.id})}">
                <span th:text="${fieldOpt.firstName} + ' ' + ${fieldOpt.lastName}"
                      th:value="${fieldOpt.id}"></span>
                    <i class="fas fa-regular fa-up-right-from-square"></i>
                </a>
            </div>
        </th:block>
    </div>
    <hr>
    <div class="mb-4">
        <h4 th:text="#{student.subjectList}"></h4>
        <span th:if="${student.fieldOfStudy.subjects.size() == 0}" th:text="#{student.no.subjects}"></span>
        <th:block th:unless="${student.fieldOfStudy.subjects.size() == 0}"
                  th:each="fieldOpt, count : ${student.fieldOfStudy.subjects}">
            <div class="mb-2">
                <span th:text="${count.index + 1} + '. '"></span>
                <a class="text-body"
                   th:href="@{/dashboard/subjects/{id}(id=${fieldOpt.id})}">
                <span th:text="${fieldOpt.name}"
                      th:value="${fieldOpt.id}"></span>
                    <i class="fas fa-regular fa-up-right-from-square"></i>
                </a>
            </div>
        </th:block>
    </div>
</div>


